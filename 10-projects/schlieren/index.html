<!doctype html>
<html lang="en">

<head>
  <meta name="This is Caleb Kruse's portfolio site: a place to build, show, and save projects">
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-105607174-2"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());

		gtag('config', 'UA-105607174-2');
	</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Visualizing Density - 10 Projects</title>
  <meta property="og:image" content="Line Integral Convolution - Frame 86.jpg" />

  <link rel="stylesheet" href="../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../css/font-awesome.min.css">
  <link rel="stylesheet" href="../../css/magnific-popup.css">
  <link rel="stylesheet" href="../../css/animsition.min.css">
  <link rel="stylesheet" href="../../css/animate.css">
  <link rel="stylesheet" href="../../css/pe-icon-7-stroke.css">
  <link rel="stylesheet" href="../../css/jquery.fancybox.min.css">
  <link rel="stylesheet" href="../../css/swiper3.css">
  <link rel="stylesheet" href="../../css/simple-line-icons.css">
  <link rel="stylesheet" href="../../css/ionicons.min.css">
  <link rel="stylesheet" href="../../css/slick.css">
  <link rel="stylesheet" href="../../css/style.min.css">
  <link rel="stylesheet" href="../../css/menu.css">
  <link rel="stylesheet" href="../../css/style-child-theme.min.css">
  <link rel="stylesheet" href="../../css/video_banner.min.css">
  <link rel="stylesheet" href="../../css/lightgallery.min.css">
</head>

<body>
  <!-- MAIN_WRAPPER -->
  <div class="main-wrapper" data-top="992">
    <div class="header_top_bg  header_trans-fixed menu_dark_text" style="padding-bottom: 0;">
      <div class="container-fluid">
        <div class="row">
          <div class="col-xs-12">
            <!-- HEADER -->
            <header class="right-menu left ">
              <!-- MOB MENU ICON -->
              <a href="#" class="mob-nav">
                <div class="hamburger">
                  <span class="line"></span>
                  <span class="line"></span>
                  <span class="line"></span>
                </div>
              </a>

              <!-- NAVIGATION -->
              <nav id="topmenu" class="topmenu ">
                <a href="#" class="mob-nav-close">
                  <span>close</span>
                  <div class="hamburger">
                    <span class="line"></span>
                    <span class="line"></span>
                  </div>
                </a>
                <ul class="menu">
                  <li class="menu-item">
                    <a href="http://calebkruse.com/">home</a>
                  </li>
                  <li id="menu-item-9" class="menu-item menu-item-has-children">
                    <a href="#">topics</a>
                    <ul class="sub-menu">
                      <li class="menu-item">
                        <a href="http://calebkruse.com/ng">National Geographic</a></li>
                      <li class="menu-item">
                        <a href="http://calebkruse.com/ml">Machine Learning</a></li>
                      <li class="menu-item">
                        <a href="http://calebkruse.com/sci">Science</a></li>
                      <li class="menu-item">
                        <a href="http://calebkruse.com/xr">AR/VR</a></li>
                      <li class="menu-item">
                        <a href="http://calebkruse.com/photo">Photography</a></li>
                      <li class="menu-item">
                        <a href="http://calebkruse.com/balloon.html">Balloons</a></li>
                      <li class="menu-item">
                        <a href="http://calebkruse.com/maps.html">Maps</a></li>
                      <li class="menu-item">
                        <a href="http://calebkruse.com/10-projects">Prototypes</a></li>
                    </ul>
                  </li>
                </ul>

              </nav>
            </header>
          </div>
        </div>
      </div>
    </div>


    <div class="container-fluid">
      <div class="hero">
        <div class="row bg_img_schlieren">
          <div class="container">
            <div class="row">
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row margin-lg-100t margin-md-80t margin-sm-40t margin-xs-30t margin-lg-80b margin-md-55b margin-sm-40b margin-xs-20b">
        <div class="col-xs-12 col-md-offset-1 col-md-10">
          <h1 style="color:#4384d9">10 projects - #8</h1>
          <h1 style="color:#4384d9">visualizing density</h1>
          <h3 class="title" style="color:#222222">using a technique called background oriented schlieren imaging to visualize density differences in air created by a candle</h3>
        </div>

      </div>
    </div>

    <div class="container">
      <div class="row margin-xs-20b margin-md-20b margin-lg-40b">
        <div class="col-md-offset-1 col-md-11">

          <div class="text">
            <h5 class="subtitle">project goal</h5>
            <p>
              I asked a lot of questions growing up. How do planes fly? What is sound? Why do hurricanes form? Why doesn't water fall out of my straw when I hold one end? Each time, the answer was differences in air pressure. Intuitively, this never made much sense, even as I went off to college. I couldn't see the differences in air pressure that were apparently all around, so I couldn't wrap my head around how they worked. This made me excited when I first came across schlieren photography, a photographic technique invented in the mid-1800's that enables you to visualize these density differences.
            </p>
            <p>
              Schlieren photography is based on Snell's law, which describes how light bends when it moves between mediums of different densities. This concept is covered in depth in <a href="https://calebkruse.com/10-projects/seeing-blue/">Project #6</a>.
            </p>
            <video style="object-fit: fill; width: 100%; min-height:100%" autoplay playsinline loop muted>
              <source src="../seeing-blue/snells-law.mp4" type="video/mp4" />
            </video>
            <p class="subtext">Illustration of how light changes direction when changing speeds. This relationship is given by <a href="https://en.wikipedia.org/wiki/Snell%27s_law">Snell's law.</a></p>
            </br>
            <p>
             Given that pressure is a correlary of density, light will bend as it passes through different pressures. If you can somehow observe this bending, then you can see pressure changes. This is the core of classical schlieren imaging. Unfortunately, this technique requires a complex and precisely tuned setup of large parabolic mirrors.
            </p>
            <p>
              There is a derivative of schlieren imaging called background-oriented schlieren. This technique is much more feasible to set up. In this project, I used background-oriented schlieren to visualize the airflow and density differences around a candle.
            </p>
          </div>
        </div>
      </div>


      <div class="row margin-xs-20b margin-md-20b margin-lg-40b">
        <div class="col-md-offset-1 col-md-11">
          <div class="text">
            <h5 class="subtitle">methods</h5>
            <p>
              In background-oriented schlieren, a textured background is placed behind the subject and is imaged. The camera and background are stationary, so if there were no disturbance, the background would appear identical from frame to frame. However, if a density difference is introduced, the light traveling from the background to the sensor will be bent in the areas with a pressure change. In the image, it will appear that the background has shifted/warped in the areas of a density disturbance between frames. The sequences of images can be processed to find the direction and magnitude of background movement. This motion will reveal the density differences.
            </p>
            <p>
              For my test, I created a pattern of random dots on a sheet of paper as a background. The contrast of the dots makes it easy to see where the background shifted. To visualize density differences in air, I held a flame between the camera and the background.
            </p>
            <img src="flame.jpg"></img>
            <p class="subtext">The subject and background as seen from the camera.</p>
            </br>

            <p>
              I took a 60 fps video of a moving a flame in front of the background. I extracted the frames as images, and analyzed them with <a href="http://pivlab.blogspot.com/">PIVlab</a>. PIVlab is a fluid dynamics tool meant for tracking the motions of particles (particle image velocimetry), and I can't recommend it more highly. Though it requires MATLAB to use, the quality of a free software package was amazing.

            <p>
              PIV software is well-suited for my purposes as the background appears as particles, and I need to find the relative motion between frames. I removed the region where my lighter and hand were captured as that interfered with the analysis.
            </p>
          </div>
        </div>
      </div>

      <div class="row margin-xs-20b margin-md-20b margin-lg-40b">
        <div class="col-md-offset-1 col-md-11">
          <div class="text">
            <h5 class="subtitle">results</h5>
            <p>
              When looking at sequential frames from the setup, you are able to observe the background shift just slightly in regions with hot air. This movement is then captured by PIVlab, and motion vectors are plotted on the image.
            </p>
            <video style="object-fit: fill; width: 100%; min-height:100%" autoplay playsinline loop muted>
              <source src="frame-comparison-vectors.mp4" type="video/mp4" />
            </video>
            <p class="subtext">Apparent movement in the background that is caused by density differences between frames. The measured motion vector field is plotted on top of the second frame.</p>
            </br>
            <p>
              I processed 475 frames from the source a video to produce a video of the changes in density through time. I visualized the density changes by both plotting the background motion vectors on top of the original video, and also mapping the magnitude of the vector to a colormap.
            </p>
            <video style="object-fit: fill; width: 100%; min-height:100%" autoplay playsinline loop muted>
              <source src="combined-480.mp4" type="video/mp4" />
            </video>
            <p class="col-md-6 subtext">Left: Vector field of background motion overlaid on video of flame. Areas of motion indicate a density change between frames. Note: the red region is excluded from the analysis</p>
            <p class="col-md-6 right subtext">Right: Plotting the magnitude of each background motion vector. Here, regions of density change are isolated and highlighted.</p>
            </br>

            </div>
          </div>
        </div>

      <div class="row margin-xs-20b margin-md-20b margin-lg-40b">
        <div class="col-md-offset-1 col-md-11">
          <div class="text">
            <h5 class="subtitle">conclusion</h5>
            <p>
              I'm quite happy with the outputs. I originaly worked on a project with background-oriented schlieren in 2015. I've been so interested in the concept ever since that time, but haven't been able to revisit it. I think the concept of density visualization is very powerful, and I would love to stretch its sensitivity.
            </p>
            </br>
          </div>
        </div>
      </div>

      <div class="row margin-xs-20b margin-md-20b margin-lg-40b">
        <div class="col-md-offset-1 col-md-11">
          <div class="text">
            <h5 class="subtitle">what will i do next</h5>
            <ul>
              <li>
                I want to think through the fundamentals of sensitivity of the system given a camera's angular resolution, and the background's texture density. If resolution were high enough, would it ever be possible to capture wingtip vortices from a bird? That would be a dream!
              </li>
              <li>
                Capture other phenomena. I'd especially like to image some mixing fluids.
            </ul>
            </br>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer id="footer" class="modern">
    <div class="container no-padd">

      <div class="col-xs-12 footer-socials text-left col-sm-6">
        <a href="https://twitter.com/clkruse" target="_blank">
          <i class="fa fa-twitter"></i>
        </a>
        <a href="https://www.instagram.com/clkruse" target="_blank">
          <i class="fa fa-instagram"></i>
        </a>
      </div>

      <div class="copyright col-xs-12 text-right col-sm-6">
        © Caleb Kruse
      </div>

    </div>
  </footer>

  <script src="../../js/jquery.min.js"></script>
  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="../../js/lib/modernizr-2.6.2.min.js"></script>
  <script src="../../js/lib/scripts.js"></script>
  <script src="../../js/jquery.countdown.min.js"></script>
  <script src="../../js/foxlazy.js"></script>
  <script src="../../js/jquery.easings.min.js"></script>
  <script src="../../js/jquery.multiscroll.min.js"></script>
  <script src="../../js/magnific.js"></script>
  <script src="../../js/TweenMax.min.js"></script>
  <script src="../../js/equalHeightsPlugin.js"></script>
  <script src="../../js/jquery.fancybox.min.js"></script>
  <script src="../../js/jquery.fitvids.js"></script>
  <script src="../../js/swiper3.js"></script>
  <script src="../../js/imagesloaded.pkgd.min.js"></script>
  <script src="../../js/fragment.js"></script>
  <script src="../../js/scrollMonitor.js"></script>
  <script src="../../js/slider-transition.js"></script>
  <script src="../../js/slick.js"></script>
  <script src="../../js/jquery.sliphover.min.js"></script>
  <script src="../../js/pixi.min.js"></script>
  <script src="../../js/lightgallery.min.js"></script>
  <script src="../../js/lib/thumbnails-popup.js"></script>
  <script src="../../js/script.js"></script>

</body>

</html>
