<!doctype html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-105607174-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-105607174-2');
    </script>
    <title>Caleb Kruse - Mapping</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- css. Last sheet takes priority -->
    <link rel="stylesheet" href="./css/style-v2.css">
    <link rel="stylesheet" href="./css/header-backgrounds.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.css' rel='stylesheet' />

</head>

<body>
    <div class="container-fluid menu">
        <div class="d-flex justify-content-end">
            <a href="/">
                <button class="button-black">home</button>
            </a>
        </div>
    </div>
    
    <div style="height: 40vh" id="map"></div>

    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12 text-center">
                <div style="padding-top: 2vw">
                    <h6 style="font-size: 14px"><b>number of visits</b></br>5 continents - 26 countries - 31 states</h6>
                    <h6 style="font-size: 14px"><b>furthest geographic extents</b></br>seoul, kr - 127°e / kingman reef,
                        us - 165°w</br>alta, no
                        - 70°n / punta arenas, cl - 53°s</br>kardung la, in +17,582' / dead sea, il -1,410'</h6>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-10 text-center">
                <h5 class="small-heading">map-based storytelling</h5>
                <h3 class="page-heading">
                    tying stories to places and encouraging people to look closely at the world
                </h3>
            </div>
        </div>
    </div>

    <div class="container-fluid card-container">
        <div class="row justify-content-center">
            <div class="col-lg-5 col-md-9 col-xs-12 content-card">
                <a href="./wikitrip/">
                    <img class="card-image" src="./img/wikitrip_thumb_tilt.jpg">
                    <h3 class="card-title">wikitrip</h3>
                </a>
                <div class="card-text">
                    <p>
                        I've always enjoyed keeping an eye out for roadside historic site markers on road trips. The
                        stories of nearby events can make even the most bleak landscapes interesting. I made a tool that
                        expands on this idea of roadside markers. It takes wikipedia articles near to your location, and
                        presents them like a travel guide.
                    </p>
                </div>
            </div>

            <div class="col-lg-5 col-md-9 col-xs-12 content-card">
                <a href="http://reeftoaquarium.com">
                    <img class="card-image" src="./img/tang-header-light.jpg">
                    <h3 class="card-title">reef to aquarium</h3>
                </a>
                <div class="card-text">
                    <p>
                        The blue tang is one of the most popular fish in the marine aquarium trade. However, it
                        cannot
                        be
                        easily bred in captivity. This creates a global supply chain that connects fishermen in
                        small
                        islands with hobby aquarists on the other
                        side of the world.
                    </p>
                    <p>
                        Alongside four additional team members I worked in Indonesia, the Philippines, and
                        Colorado to
                        trace
                        the path of this supply chain. I also developed the technology for the project, creating
                        a web
                        experience to tell a map-driven multimedia story, capturing underwater virtual reality
                        video,
                        and
                        drone support.
                    </p>
                    <p>
                        This project was recognized as one of <a
                            href="https://web.archive.org/web/20190224212053/https://www.mapbox.com/community/impact-2018/">
                            Mapbox's featured community maps of 2018
                        </a>
                    </p>
                </div>
            </div>

            <div class="col-lg-5 col-md-9 col-xs-12 content-card">
                <a href="./osm">
                    <img class="card-image" src="./10-projects/osm/osm_edits.jpg">
                    <h3 class="card-title">openstreetmap</h3>
                </a>
                <div class="card-text">
                    <p>
                        A trail is being created in an open space near my home. Because the area was private
                        land for so long and the park is not yet open, maps of the area are sparsely populated.
                        In this project, I mapped the trail and ponds and added the data to
                        <a href="http://openstreetmap.org/">OpenStreetMap</a>.
                    </p>
                </div>
            </div>

            <div class="col-lg-5 col-md-9 col-xs-12 content-card">
                <a href="./fire-mapping">
                    <img class="card-image" src="./10-projects/fire-mapping/bf5.gif">
                    <h3 class="card-title">mapping tree loss from space</h3>
                </a>
                <div class="card-text">
                    <p>
                        In 2013, my family's home burned down in the Black Forest Fire. It also burned part of the open
                        space I mapped in Project #2. In this project, I created a map of where the fire burned based on
                        remotely sensed forest cover data.
                    </p>
                </div>
            </div>

            <div class="col-lg-5 col-md-9 col-xs-12 content-card">
                <a href="./balloons/balloon-map.html">
                    <img class="card-image" src="./img/balloon_launch.jpg">
                    <h3 class="card-title">high altitude balloons</h3>
                </a>
                <div class="card-text">
                    <p>
                        A work-in-progress map of my stratospheric balloon launches.
                    </p>
                </div>
            </div>

            <!-- Empty section for spacing if odd number of cards -->
            <div class="col-lg-5 col-md-9 col-sm-12 content-card"></div>
        </div>
    </div>

    <footer id="footer" class="footer">
        <div class="row align-items-center">
            <div class="col-xs-12 col-6">
                <div class="footer-socials text-left">
                    <a href="https://twitter.com/clkruse" target="_blank">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a href="https://www.instagram.com/clkruse" target="_blank">
                        <i class="fa fa-instagram"></i>
                    </a>
                </div>
            </div>
            <div class="col-xs-12 col-6">
                <p class="copyright">© Caleb Kruse</p>
            </div>
        </div>
    </footer>

    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiY2xrcnVzZSIsImEiOiJjaXIxY2M2dGcwMnNiZnZtZzN0Znk3MXRuIn0.MyKHSjxjG-ZcI2BkRUSGJA';
        var map = new mapboxgl.Map({
            container: 'map', // container id
            style: 'mapbox://styles/clkruse/ck9dfepwt09ut1jplf9e7lbp2', // stylesheet location
            //center: [123.4339, -1.5416],
            center: [0, 7.5],
            bearing: 0,
            zoom: 0.75,
            pitch: 0,
            projection: {
                name: 'naturalEarth'
            },
            attributionControl: true,
            customAttribution: "Countries and states I've visited"
        });

        // add points
        map.on('load', function () {
            map.addSource('points', {
                'type': 'geojson',
                'data': {
                    'type': 'FeatureCollection',
                    'features': [{
                        'type': 'Feature',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [126.9780, 37.5665]
                        },
                        'properties': {
                            'title': 'Furthest East',
                            'description': 'Seoul - Furthest East'
                        }
                    }, {
                        'type': 'Feature',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [-162.4167, 6.3833]
                        },
                        'properties': {
                            'title': 'Furthest West',
                            'description': 'Kingman Reef - Furthest West'
                        }
                    }, {
                        'type': 'Feature',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [23.530, 70.020]
                        },
                        'properties': {
                            'title': 'Furthest North',
                            'description': 'Furthest North - Alta'
                        }
                    }, {
                        'type': 'Feature',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [-70.926, -53.123]
                        },
                        'properties': {
                            'title': 'Furthest South',
                            'description': 'Furthest South - Punta Arenas'
                        }
                    }, {
                        'type': 'Feature',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [77.605, 34.279]
                        },
                        'properties': {
                            'title': 'Highest',
                            'description': 'Highest - Kardung La'
                        }
                    }, {
                        'type': 'Feature',
                        'geometry': {
                            'type': 'Point',
                            'coordinates': [35.400, 31.508]
                        },
                        'properties': {
                            'title': 'Lowest',
                            'description': 'Lowest - Dead Sea'
                        }
                    }]
                }
            });

            map.addLayer({
                'id': 'points-layer',
                'type': 'circle',
                'source': 'points',
                'paint': {
                    'circle-radius': 5,
                    'circle-color': '#AE060F',
                    'circle-stroke-width': 2,
                    'circle-stroke-color': '#fff'
                }
            });
            // Create a popup, but don't add it to the map yet.
            const popup = new mapboxgl.Popup({
                closeButton: false,
                closeOnClick: false
            });

            map.on('mouseenter', 'points-layer', (e) => {
                // Change the cursor style as a UI indicator.
                map.getCanvas().style.cursor = 'pointer';

                // Copy coordinates array.
                const coordinates = e.features[0].geometry.coordinates.slice();
                const description = e.features[0].properties.description;

                // Ensure that if the map is zoomed out such that multiple
                // copies of the feature are visible, the popup appears
                // over the copy being pointed to.
                while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
                    coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
                }

                // Populate the popup and set its coordinates
                // based on the feature found.
                popup.setLngLat(coordinates).setHTML(description).addTo(map);
            });

            map.on('mouseleave', 'points-layer', () => {
                map.getCanvas().style.cursor = '';
                popup.remove();
            });
        });
    </script>

</body>

</html>
